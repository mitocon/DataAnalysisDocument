# 2
## Nishika
https://competition.nishika.com  
- ユーザー登録
- コンペに参加（要 電話番号認証）

https://competition.nishika.com/competitions/mansion_pra/data  
- Nishikaの[Training] 中古マンション価格予測のデータタブから一括DL

# 4 統計学概論
統計学
- 確率分布
- 相関関係
- 統計的検定
- 回帰分析

## 確率分布
- 正規分布
## 相関関係
- 偽相関
第3の因子がある

- 因果関係
一方の事象が原因で、もう一方が結果だと明確にわかっていること。  
因果関係は非常に難しいので相関関係だけで良い。

## 統計的検定
事象に違いがあるかどうか、偶発的ではないかを統計的に示すこと

### 統計的検定の種類
- T検定
平均の検定に使う。  
正規分布を使う。  
用途：品質管理など  
例：工場で製造したものの品質が上がったのが誤差の範囲なのかどうか

- カイ2乗検定
分布の違いを測る。  
用途：ABテストなど  
例：以下のクリック率は誤差の範囲なのかを調べる検定。  
A：送信数10万、開封数1.2万、開封率12%  
B：送信数200、開封数30、開封率15%  
(ちなみに統計的に違いがあるとは言えない)  

## 回帰分析
回帰分析とは？  
ある変数を用いて、他の変数を説明、予測するモデルを作ること。  
例：気温でアイスコーヒーの売り上げを予測する  

アイスコーヒーの売り上げ＝目的変数  
気温＝説明変数  

単回帰分析では、最小2乗法で線形モデルを作る。  

重回帰分析では、説明変数が複数あるもの。

### 過学習
寄与率を上げるために過剰にフィッティングすると、未知の予測には沿えなくなる。  
これを機械学習の世界では過学習と呼ぶ。

いつか学ぶ：スパース推定　Lasso回帰

## ロジスティック回帰分析
線形回帰をレベルアップさせた一般化線形回帰分析のひとつ。
- 基本
- 結果解釈
- 利用シーン

### 基本
0~1に収まる目的変数で使う。  
線形回帰式と同じような構造をロジット変換する  

### 結果解釈
適合率：本当に購入した人の割合  
再現率：本当に購入した人のうち、購入すると予測できた人の割合  

適合率と再現率はトレードオフで、バランスを考えて閾値を決める。

### 利用シーン
比較的簡単にできて、理解しやすい。  
しかし精度は他の手法が高い。  

→XGBoostやLightGBMが強力な機械学習手法になる。

## 機械学習
### 機械学習概論
- 機械学習とは？  
機械に学習させて何かしらの結論をアウトプットする。

- 機械学習、AI、ディープラーニング  
AIの中に機械学習があり、機械学習の中にディープラーニングがある。

### 機械学習の手法の種類
- 教師あり学習
- 教師なし学習
- 強化学習

### 教師あり学習
- 決定木
- k近傍法
- SVM（サポートベクターマシン）
- ニューラルネットワーク
- ランダムフォレスト
- Xgboost
- Light gbm


- 決定木

変数での分類規則を作る学習モデル

- k近傍法

未知データの周りの学習データから、未知データがどこに属するかを判断する学習モデル。
kの値は、一番近いデータの数。k=3なら3個、k=5なら5個から判断する。

- SVM（サポートベクターマシン）
判別のための境界線を引く。  
境界に近いデータに注目。それがサポートベクトル。
そのサポートベクトルのマージン=距離が最大になるように引くのがマージン最大化で、SVMのキモ

- ニューラルネットワーク

人間の神経のようにネットワークをつなげる。  
次の神経へと重み付けして、最終的にアウトプットする。  
多層化していくとディープラーニングになる。

- ランダムフォレスト

決定技モデルを複数個作る。
そのモデルの総合値で最終決定する。  
アンサンブル学習の中でもワギングという手法を使っている。  
並列に組み合わせて最終決定する。  


- Xgboost

アンサンブル学習の中でもブースティングという手法を使っている。  
直列に組み合わせて最終決定する。  

- Light gbm

Xgboostを改良。  
アンサンブル学習した。  
階層を合わせたもの＝レベルワイズ
Light gbmは葉ごとの学習をする＝リーフワイズ  
コンペでは非常によく使う。

## CRISP-DM
業界横断で標準的に使えるデータ分析プロセス

- Business Understanding
- Data Understanding
- Data Preparation
- Modeling
- Evaluation
- Deployment

精度だけを求めるなら
- 勾配ブースティング（おおむねこれで良い）
- ディープラーニング

解釈容易性を求めるなら
- 決定木
- ロジスティック回帰

評価指標
- MSE
- RMSE
- 正解率
- 適合率
- 再現率
- F-measure

また、正しく評価するためには過学習、多重共線性、不均衡データに注意。  
- 予測データと検証用データを分けているか
- 説明変数同士の相関が高いものを選択していないか
- 正例データと負例データで極端な偏りがないか


